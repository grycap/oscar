
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../invoking/">
      
      
        <link rel="next" href="../fdl-composer/">
      
      
      <link rel="icon" href="../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>Functions Definition Language (FDL) - OSCAR Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functions-definition-language-oscar" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="OSCAR Documentation" class="md-header__button md-logo" aria-label="OSCAR Documentation" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSCAR Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Functions Definition Language (FDL)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/grycap/oscar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OSCAR Documentation" class="md-nav__button md-logo" aria-label="OSCAR Documentation" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    OSCAR Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/grycap/oscar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../local-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Local testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-im-dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment with IM Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-ec3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment with EC3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment with Helm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-ansible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment on K3s with Ansible
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Third party integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Third party integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../egi-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration with EGI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../oidc-auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OIDC Authorization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sgx-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration with SCONE
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using OSCAR through the web-based UI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../invoking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Invoking services
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Functions Definition Language (FDL)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Functions Definition Language (FDL)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top-level-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Top level parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronoussettings" class="md-nav__link">
    <span class="md-ellipsis">
      SynchronousSettings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exposesettings" class="md-nav__link">
    <span class="md-ellipsis">
      ExposeSettings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replica" class="md-nav__link">
    <span class="md-ellipsis">
      Replica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageioconfig" class="md-nav__link">
    <span class="md-ellipsis">
      StorageIOConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#envvarsmap" class="md-nav__link">
    <span class="md-ellipsis">
      EnvVarsMap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageproviders" class="md-nav__link">
    <span class="md-ellipsis">
      StorageProviders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minioprovider" class="md-nav__link">
    <span class="md-ellipsis">
      MinIOProvider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3provider" class="md-nav__link">
    <span class="md-ellipsis">
      S3Provider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onedataprovider" class="md-nav__link">
    <span class="md-ellipsis">
      OnedataProvider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdavprovider" class="md-nav__link">
    <span class="md-ellipsis">
      WebDAVProvider
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../fdl-composer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDL Composer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../oscar-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OSCAR-CLI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAPI Specification
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../multitenancy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multitenancy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../minio-bucket-replication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MinIO bucket replication
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently Asked Questions (FAQ)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top-level-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Top level parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronoussettings" class="md-nav__link">
    <span class="md-ellipsis">
      SynchronousSettings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exposesettings" class="md-nav__link">
    <span class="md-ellipsis">
      ExposeSettings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replica" class="md-nav__link">
    <span class="md-ellipsis">
      Replica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageioconfig" class="md-nav__link">
    <span class="md-ellipsis">
      StorageIOConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#envvarsmap" class="md-nav__link">
    <span class="md-ellipsis">
      EnvVarsMap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageproviders" class="md-nav__link">
    <span class="md-ellipsis">
      StorageProviders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minioprovider" class="md-nav__link">
    <span class="md-ellipsis">
      MinIOProvider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3provider" class="md-nav__link">
    <span class="md-ellipsis">
      S3Provider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onedataprovider" class="md-nav__link">
    <span class="md-ellipsis">
      OnedataProvider
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdavprovider" class="md-nav__link">
    <span class="md-ellipsis">
      WebDAVProvider
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="functions-definition-language-oscar">Functions Definition Language (OSCAR)</h1>
<p>Example:</p>
<pre><code>functions:
  oscar:
  - oscar-test:
      name: plants
      memory: 2Gi
      cpu: '1.0'
      image: grycap/oscar-theano-plants
      script: plants.sh
      input:
      - storage_provider: minio.default
        path: example-workflow/in
      output:
      - storage_provider: minio.default
        path: example-workflow/med
  - oscar-test:
      name: grayify
      memory: 1Gi
      cpu: '1.0'
      image: grycap/imagemagick
      script: grayify.sh
      expose:
        min_scale: 3 
        max_scale: 7 
        port: 5000  
        cpu_threshold: 70 
      input:
      - storage_provider: minio.default
        path: example-workflow/med
      output:
      - storage_provider: minio.default
        path: example-workflow/res
      - storage_provider: onedata.my_onedata
        path: result-example-workflow
      - storage_provider: webdav.dcache
        path: example-workflow/res

storage_providers:
  onedata:
    my_onedata:
      oneprovider_host: my_provider.com
      token: my_very_secret_token
      space: my_onedata_space
  webdav:
    dcache:
      hostname: my_dcache.com
      login: my_username
      password: my_password
</code></pre>
<h2 id="top-level-parameters">Top level parameters</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>functions</code> </br> <em><a href="#functions">Functions</a></em></td>
<td>Mandatory parameter to define a Functions Definition Language file. Note that "functions" instead of "services" has been used in order to keep compatibility with <a href="https://github.com/grycap/scar">SCAR</a></td>
</tr>
<tr>
<td><code>storage_providers</code> </br> <em><a href="#storageproviders">StorageProviders</a></em></td>
<td>Parameter to define the credentials for the storage providers to be used in the services</td>
</tr>
<tr>
<td><code>clusters</code> </br> <em>map[string]<a href="#cluster">Cluster</a></em></td>
<td>configuration for the OSCAR clusters that can be used as service's replicas, being the key the user-defined identifier for the cluster. Optional</td>
</tr>
</tbody>
</table>
<h2 id="functions">Functions</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>oscar</code> </br> <em>map[string]<a href="#service">Service</a> array</em></td>
<td>Main object with the definition of the OSCAR services to be deployed. The components of the array are Service maps, where the key of every service is the identifier of the cluster where the service (defined as the value of the entry on the map) will be deployed.</td>
</tr>
</tbody>
</table>
<h2 id="service">Service</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code> </br> <em>string</em></td>
<td>The name of the service</td>
</tr>
<tr>
<td><code>cluster_id</code> </br> <em>string</em></td>
<td>Identifier for the current cluster, used to specify the cluster's StorageProvider in job delegations. OSCAR-CLI sets it using the ClusterID from the FDL. Optional. (default: "")</td>
</tr>
<tr>
<td><code>image</code> </br> <em>string</em></td>
<td>Docker image for the service</td>
</tr>
<tr>
<td><code>vo</code> </br> <em>string</em></td>
<td>Virtual Organization (VO) in which the user creating the service is enrolled. Optional (default: "")</td>
</tr>
<tr>
<td><code>allowed_users</code> </br> <em>string array</em></td>
<td>Array EGI UIDs to grant specific users permissions over the service. If empty, the service is viewed as public. (Enabled since OSCAR version v3.0.0).</td>
</tr>
<tr>
<td><code>alpine</code> </br> <em>boolean</em></td>
<td>Alpine parameter to set if image is based on Alpine. If <code>true</code> a custom release of faas-supervisor will be used. Optional (default: false)</td>
</tr>
<tr>
<td><code>script</code> </br> <em>string</em></td>
<td>Local path to the user script to be executed in the service container</td>
</tr>
<tr>
<td><code>file_stage_in</code> </br> <em>bool</em></td>
<td>Parameter to skip the download of the input files by the FaaS Supervisor (default: false)</td>
</tr>
<tr>
<td><code>image_pull_secrets</code> </br> <em>string array</em></td>
<td>Array of Kubernetes secrets. Only needed to use private images located on private registries.</td>
</tr>
<tr>
<td><code>memory</code> </br> <em>string</em></td>
<td>Memory limit for the service following the <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory">kubernetes format</a>. Optional (default: 256Mi)</td>
</tr>
<tr>
<td><code>cpu</code> </br> <em>string</em></td>
<td>CPU limit for the service following the <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-cpu">kubernetes format</a>. Optional (default: 0.2)</td>
</tr>
<tr>
<td><code>enable_gpu</code> </br> <em>bool</em></td>
<td>Parameter to enable the use of GPU for the service. Requires a device plugin deployed on the cluster (More info: <a href="https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/#using-device-plugins">Kubernetes device plugins</a>). Optional (default: false)</td>
</tr>
<tr>
<td><code>enable_sgx</code> </br> <em>bool</em></td>
<td>Parameter to enable the use of SGX plugin on the cluster containers. (More info: <a href="https://sconedocs.github.io/helm_sgxdevplugin/">SGX plugin documentation</a>). Optional (default: false)</td>
</tr>
<tr>
<td><code>image_prefetch</code> </br> <em>bool</em></td>
<td>Parameter to enable the use of image caching. Optional (default: false)</td>
</tr>
<tr>
<td><code>total_memory</code> </br> <em>string</em></td>
<td>Limit for the memory used by all the service's jobs running simultaneously. Apache YuniKorn scheduler is required to work. Same format as Memory, but internally translated to MB (integer). Optional (default: "")</td>
</tr>
<tr>
<td><code>total_cpu</code> </br> <em>string</em></td>
<td>Limit for the virtual CPUs used by all the service's jobs running simultaneously. Apache YuniKorn scheduler is required to work. Same format as CPU, but internally translated to millicores (integer). Optional (default: "")</td>
</tr>
<tr>
<td><code>synchronous</code> </br> <em><a href="#synchronoussettings">SynchronousSettings</a></em></td>
<td>Struct to configure specific sync parameters. This settings are only applied on Knative ServerlessBackend. Optional.</td>
</tr>
<tr>
<td><code>expose</code> </br> <em><a href="#exposesettings">ExposeSettings</a></em></td>
<td>Struct to expose services. Optional.</td>
</tr>
<tr>
<td><code>replicas</code> </br> <em><a href="#replica">Replica</a> array</em></td>
<td>List of replicas to delegate jobs. Optional.</td>
</tr>
<tr>
<td><code>rescheduler_threshold</code> </br> <em>string</em></td>
<td>Time (in seconds) that a job (with replicas) can be queued before delegating it. Optional.</td>
</tr>
<tr>
<td><code>log_level</code> </br> <em>string</em></td>
<td>Log level for the FaaS Supervisor. Available levels: NOTSET, DEBUG, INFO, WARNING, ERROR and CRITICAL. Optional (default: INFO)</td>
</tr>
<tr>
<td><code>input</code> </br> <em><a href="#storageioconfig">StorageIOConfig</a> array</em></td>
<td>Array with the input configuration for the service. Optional</td>
</tr>
<tr>
<td><code>output</code> </br> <em><a href="#storageioconfig">StorageIOConfig</a> array</em></td>
<td>Array with the output configuration for the service. Optional</td>
</tr>
<tr>
<td><code>environment</code> </br> <em><a href="#envvarsmap">EnvVarsMap</a></em></td>
<td>The user-defined environment variables assigned to the service. Optional</td>
</tr>
<tr>
<td><code>annotations</code> </br> <em>map[string]string</em></td>
<td>User-defined Kubernetes <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">annotations</a> to be set in job's definition. Optional</td>
</tr>
<tr>
<td><code>labels</code> </br> <em>map[string]string</em></td>
<td>User-defined Kubernetes <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> to be set in job's definition. Optional</td>
</tr>
</tbody>
</table>
<h2 id="synchronoussettings">SynchronousSettings</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>min_scale</code> </br> <em>integer</em></td>
<td>Minimum number of active replicas (pods) for the service. Optional. (default: 0)</td>
</tr>
<tr>
<td><code>max_scale</code> </br> <em>integer</em></td>
<td>Maximum number of active replicas (pods) for the service. Optional. (default: 0 (Unlimited))</td>
</tr>
</tbody>
</table>
<h2 id="exposesettings">ExposeSettings</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>min_scale</code> </br> <em>integer</em></td>
<td>Minimum number of active replicas (pods) for the service. Optional. (default: 1)</td>
</tr>
<tr>
<td><code>max_scale</code> </br> <em>integer</em></td>
<td>Maximum number of active replicas (pods) for the service. Optional. (default: 10 (Unlimited))</td>
</tr>
<tr>
<td><code>port</code> </br> <em>integer</em></td>
<td>Port inside the container where the API is exposed. (value: 0 , the service wont be exposed.)</td>
</tr>
<tr>
<td><code>cpu_threshold</code> </br> <em>integer</em></td>
<td>Percent of use of CPU before creating other pod (default: 80 max:100)</td>
</tr>
</tbody>
</table>
<h2 id="replica">Replica</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code> </br> <em>string</em></td>
<td>Type of the replica to re-send events (can be <code>oscar</code> or <code>endpoint</code>)</td>
</tr>
<tr>
<td><code>cluster_id</code> </br> <em>string</em></td>
<td>Identifier of the cluster as defined in the "clusters" FDL field. Only used if Type is <code>oscar</code></td>
</tr>
<tr>
<td><code>service_name</code> </br> <em>string</em></td>
<td>Name of the service in the replica cluster. Only used if Type is <code>oscar</code></td>
</tr>
<tr>
<td><code>url</code> </br> <em>string</em></td>
<td>URL of the endpoint to re-send events (HTTP POST). Only used if Type is <code>endpoint</code></td>
</tr>
<tr>
<td><code>ssl_verify</code> </br> <em>boolean</em></td>
<td>Parameter to enable or disable the verification of SSL certificates. Only used if Type is <code>endpoint</code>. Optional. (default: true)</td>
</tr>
<tr>
<td><code>priority</code> </br> <em>integer</em></td>
<td>Priority value to define delegation priority. Highest priority is defined as 0. If a delegation fails, OSCAR will try to delegate to another replica with lower priority. Optional. (default: 0)</td>
</tr>
<tr>
<td><code>headers</code> </br> <em>map[string]string</em></td>
<td>Headers to send in delegation requests. Optional</td>
</tr>
</tbody>
</table>
<h2 id="storageioconfig">StorageIOConfig</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>storage_provider</code> </br> <em>string</em></td>
<td>Reference to the storage provider defined in <a href="#storage_providers">storage_providers</a>. This string is composed by the provider's name (minio, s3, onedata) and identifier (defined by the user), separated by a point (e.g. "minio.myidentifier")</td>
</tr>
<tr>
<td><code>path</code> </br> <em>string</em></td>
<td>Path in the storage provider. In MinIO and S3 the first directory of the specified path is translated into the bucket's name (e.g. "bucket/folder/subfolder")</td>
</tr>
<tr>
<td><code>suffix</code> </br> <em>string array</em></td>
<td>Array of suffixes for filtering the files to be uploaded. Only used in the <code>output</code> field. Optional</td>
</tr>
<tr>
<td><code>prefix</code> </br> <em>string array</em></td>
<td>Array of prefixes for filtering the files to be uploaded. Only used in the <code>output</code> field. Optional</td>
</tr>
</tbody>
</table>
<h2 id="envvarsmap">EnvVarsMap</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Variables</code> </br> <em>map[string]string</em></td>
<td>Map to define the environment variables that will be available in the service container</td>
</tr>
</tbody>
</table>
<h2 id="storageproviders">StorageProviders</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>minio</code> </br> <em>map[string]<a href="#minioprovider">MinIOProvider</a></em></td>
<td>Map to define the credentials for a MinIO storage provider, being the key the user-defined identifier for the provider</td>
</tr>
<tr>
<td><code>s3</code> </br> <em>map[string]<a href="#s3provider">S3Provider</a></em></td>
<td>Map to define the credentials for a Amazon S3 storage provider, being the key the user-defined identifier for the provider</td>
</tr>
<tr>
<td><code>onedata</code> </br> <em>map[string]<a href="#onedataprovider">OnedataProvider</a></em></td>
<td>Map to define the credentials for a Onedata storage provider, being the key the user-defined identifier for the provider</td>
</tr>
<tr>
<td><code>webdav</code> </br> <em>map[string]<a href="#webdavprovider">WebDavProvider</a></em></td>
<td>Map to define the credentials for a storage provider accesible via WebDav protocol, being the key the user-defined identifier for the provider</td>
</tr>
</tbody>
</table>
<h2 id="cluster">Cluster</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>endpoint</code></br><em>string</em></td>
<td>Endpoint of the OSCAR cluster API</td>
</tr>
<tr>
<td><code>auth_user</code></br><em>string</em></td>
<td>Username to connect to the cluster (basic auth)</td>
</tr>
<tr>
<td><code>auth_password</code></br><em>string</em></td>
<td>Password to connect to the cluster (basic auth)</td>
</tr>
<tr>
<td><code>ssl_verify</code></br><em>boolean</em></td>
<td>Parameter to enable or disable the verification of SSL certificates</td>
</tr>
</tbody>
</table>
<h2 id="minioprovider">MinIOProvider</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>endpoint</code> </br> <em>string</em></td>
<td>MinIO endpoint</td>
</tr>
<tr>
<td><code>verify</code> </br> <em>bool</em></td>
<td>Verify MinIO's TLS certificates for HTTPS connections</td>
</tr>
<tr>
<td><code>access_key</code> </br> <em>string</em></td>
<td>Access key of the MinIO server</td>
</tr>
<tr>
<td><code>secret_key</code> </br> <em>string</em></td>
<td>Secret key of the MinIO server</td>
</tr>
<tr>
<td><code>region</code> </br> <em>string</em></td>
<td>Region of the MinIO server</td>
</tr>
</tbody>
</table>
<h2 id="s3provider">S3Provider</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>access_key</code> </br> <em>string</em></td>
<td>Access key of the AWS S3 service</td>
</tr>
<tr>
<td><code>secret_key</code> </br> <em>string</em></td>
<td>Secret key of the AWS S3 service</td>
</tr>
<tr>
<td><code>region</code> </br> <em>string</em></td>
<td>Region of the AWS S3 service</td>
</tr>
</tbody>
</table>
<h2 id="onedataprovider">OnedataProvider</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>oneprovider_host</code> </br> <em>string</em></td>
<td>Endpoint of the Oneprovider</td>
</tr>
<tr>
<td><code>token</code> </br> <em>string</em></td>
<td>Onedata access token</td>
</tr>
<tr>
<td><code>space</code> </br> <em>string</em></td>
<td>Name of the Onedata space</td>
</tr>
</tbody>
</table>
<h2 id="webdavprovider">WebDAVProvider</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hostname</code> </br> <em>string</em></td>
<td>Provider hostname</td>
</tr>
<tr>
<td><code>login</code> </br> <em>string</em></td>
<td>Provider account username</td>
</tr>
<tr>
<td><code>password</code> </br> <em>string</em></td>
<td>Provider account password</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022, GRyCAP - i3M - Universitat Politècnica de València, Spain.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
    
  </body>
</html>